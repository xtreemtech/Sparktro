var L=Object.defineProperty;var ue=Object.getOwnPropertyDescriptor;var pe=Object.getOwnPropertyNames;var ce=Object.prototype.hasOwnProperty;var fe=(e,t)=>{for(var n in t)L(e,n,{get:t[n],enumerable:!0})},me=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pe(t))!ce.call(e,o)&&o!==n&&L(e,o,{get:()=>t[o],enumerable:!(s=ue(t,o))||s.enumerable});return e};var de=e=>me(L({},"__esModule",{value:!0}),e);var be={};fe(be,{Deferred:()=>ee,Head:()=>re,Link:()=>oe,WhenVisible:()=>ae,createInertiaApp:()=>q,router:()=>le.router,useForm:()=>k,usePage:()=>X,usePoll:()=>K,usePrefetch:()=>U,useRemember:()=>J});module.exports=de(be);var le=require("@inertiajs/core");var x=require("@inertiajs/core"),l=require("vue");var V=require("@inertiajs/core"),Y=require("es-toolkit"),he={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});let e=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,t=V.router.restore(e),n=this.$options.remember.data.filter(o=>!(this[o]!==null&&typeof this[o]=="object"&&this[o].__rememberable===!1)),s=o=>this[o]!==null&&typeof this[o]=="object"&&typeof this[o].__remember=="function"&&typeof this[o].__restore=="function";n.forEach(o=>{this[o]!==void 0&&t!==void 0&&t[o]!==void 0&&(s(o)?this[o].__restore(t[o]):this[o]=t[o]),this.$watch(o,()=>{V.router.remember(n.reduce((a,u)=>({...a,[u]:(0,Y.cloneDeep)(s(u)?this[u].__remember():this[u])}),{}),e)},{immediate:!0,deep:!0})})}},Q=he;var w=require("@inertiajs/core"),b=require("es-toolkit"),T=require("es-toolkit/compat"),_=require("vue");function k(e,t){let n=typeof e=="string"?e:null,s=(typeof e=="string"?t:e)??{},o=n?w.router.restore(n):null,a=typeof s=="function"?(0,b.cloneDeep)(s()):(0,b.cloneDeep)(s),u=null,m=null,d=r=>r,F=(0,_.reactive)({...o?o.data:(0,b.cloneDeep)(a),isDirty:!1,errors:o?o.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(a).reduce((r,i)=>(0,T.set)(r,i,(0,T.get)(this,i)),{})},transform(r){return d=r,this},defaults(r,i){if(typeof s=="function")throw new Error("You cannot call `defaults()` when using a function to define your form data.");return typeof r>"u"?(a=(0,b.cloneDeep)(this.data()),this.isDirty=!1):a=typeof r=="string"?(0,T.set)((0,b.cloneDeep)(a),r,i):Object.assign({},(0,b.cloneDeep)(a),r),this},reset(...r){let i=typeof s=="function"?(0,b.cloneDeep)(s()):(0,b.cloneDeep)(a),g=(0,b.cloneDeep)(i);return r.length===0?(a=g,Object.assign(this,i)):r.filter(c=>(0,T.has)(g,c)).forEach(c=>{(0,T.set)(a,c,(0,T.get)(g,c)),(0,T.set)(this,c,(0,T.get)(i,c))}),this},setError(r,i){return Object.assign(this.errors,typeof r=="string"?{[r]:i}:r),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...r){return this.errors=Object.keys(this.errors).reduce((i,g)=>({...i,...r.length>0&&!r.includes(g)?{[g]:this.errors[g]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},submit(...r){let i=typeof r[0]=="object",g=i?r[0].method:r[0],c=i?r[0].url:r[1],p=(i?r[1]:r[2])??{},A=d(this.data()),O={...p,onCancelToken:f=>{if(u=f,p.onCancelToken)return p.onCancelToken(f)},onBefore:f=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(m),p.onBefore)return p.onBefore(f)},onStart:f=>{if(this.processing=!0,p.onStart)return p.onStart(f)},onProgress:f=>{if(this.progress=f,p.onProgress)return p.onProgress(f)},onSuccess:async f=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,m=setTimeout(()=>this.recentlySuccessful=!1,2e3);let N=p.onSuccess?await p.onSuccess(f):null;return a=(0,b.cloneDeep)(this.data()),this.isDirty=!1,N},onError:f=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError(f),p.onError)return p.onError(f)},onCancel:()=>{if(this.processing=!1,this.progress=null,p.onCancel)return p.onCancel()},onFinish:f=>{if(this.processing=!1,this.progress=null,u=null,p.onFinish)return p.onFinish(f)}};g==="delete"?w.router.delete(c,{...O,data:A}):w.router[g](c,A,O)},get(r,i){this.submit("get",r,i)},post(r,i){this.submit("post",r,i)},put(r,i){this.submit("put",r,i)},patch(r,i){this.submit("patch",r,i)},delete(r,i){this.submit("delete",r,i)},cancel(){u&&u.cancel()},__rememberable:n===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(r){Object.assign(this,r.data),this.setError(r.errors)}});return(0,_.watch)(F,r=>{F.isDirty=!(0,b.isEqual)(F.data(),a),n&&w.router.remember((0,b.cloneDeep)(r.__remember()),n)},{immediate:!0,deep:!0}),F}var P=(0,l.ref)(null),y=(0,l.ref)(null),H=(0,l.shallowRef)(null),I=(0,l.ref)(null),B=null,ge=(0,l.defineComponent)({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:e=>e},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:e,initialComponent:t,resolveComponent:n,titleCallback:s,onHeadUpdate:o}){P.value=t?(0,l.markRaw)(t):null,y.value=e,I.value=null;let a=typeof window>"u";return B=(0,x.createHeadManager)(a,s,o),a||(x.router.init({initialPage:e,resolveComponent:n,swapComponent:async u=>{P.value=(0,l.markRaw)(u.component),y.value=u.page,I.value=u.preserveState?I.value:Date.now()}}),x.router.on("navigate",()=>B.forceUpdate())),()=>{if(P.value){P.value.inheritAttrs=!!P.value.inheritAttrs;let u=(0,l.h)(P.value,{...y.value.props,key:I.value});return H.value&&(P.value.layout=H.value,H.value=null),P.value.layout?typeof P.value.layout=="function"?P.value.layout(l.h,u):(Array.isArray(P.value.layout)?P.value.layout:[P.value.layout]).concat(u).reverse().reduce((m,d)=>(d.inheritAttrs=!!d.inheritAttrs,(0,l.h)(d,{...y.value.props},()=>m))):u}}}}),z=ge,G={install(e){x.router.form=k,Object.defineProperty(e.config.globalProperties,"$inertia",{get:()=>x.router}),Object.defineProperty(e.config.globalProperties,"$page",{get:()=>y.value}),Object.defineProperty(e.config.globalProperties,"$headManager",{get:()=>B}),e.mixin(Q)}};function X(){return(0,l.reactive)({props:(0,l.computed)(()=>y.value?.props),url:(0,l.computed)(()=>y.value?.url),component:(0,l.computed)(()=>y.value?.component),version:(0,l.computed)(()=>y.value?.version),clearHistory:(0,l.computed)(()=>y.value?.clearHistory),deferredProps:(0,l.computed)(()=>y.value?.deferredProps),mergeProps:(0,l.computed)(()=>y.value?.mergeProps),deepMergeProps:(0,l.computed)(()=>y.value?.deepMergeProps),rememberedState:(0,l.computed)(()=>y.value?.rememberedState),encryptHistory:(0,l.computed)(()=>y.value?.encryptHistory)})}var E=require("@inertiajs/core"),j=require("vue");async function q({id:e="app",resolve:t,setup:n,title:s,progress:o={},page:a,render:u}){let m=typeof window>"u",d=m?null:document.getElementById(e),F=a||JSON.parse(d.dataset.page),r=c=>Promise.resolve(t(c)).then(p=>p.default||p),i=[],g=await Promise.all([r(F.component),E.router.decryptHistory().catch(()=>{})]).then(([c])=>n({el:d,App:z,props:{initialPage:F,initialComponent:c,resolveComponent:r,titleCallback:s,onHeadUpdate:m?p=>i=p:null},plugin:G}));if(!m&&o&&(0,E.setupProgress)(o),m){let c=await u((0,j.createSSRApp)({render:()=>(0,j.h)("div",{id:e,"data-page":JSON.stringify(F),innerHTML:g?u(g):""})}));return{head:i,body:c}}}var Z=require("vue"),ee=(0,Z.defineComponent)({name:"Deferred",props:{data:{type:[String,Array],required:!0}},render(){let e=Array.isArray(this.$props.data)?this.$props.data:[this.$props.data];if(!this.$slots.fallback)throw new Error("`<Deferred>` requires a `<template #fallback>` slot");return e.every(t=>this.$page.props[t]!==void 0)?this.$slots.default():this.$slots.fallback()}});var te=require("vue"),ye=(0,te.defineComponent)({props:{title:{type:String,required:!1}},data(){return{provider:this.$headManager.createProvider()}},beforeUnmount(){this.provider.disconnect()},methods:{isUnaryTag(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1},renderTagStart(e){e.props=e.props||{},e.props.inertia=e.props["head-key"]!==void 0?e.props["head-key"]:"";let t=Object.keys(e.props).reduce((n,s)=>{let o=e.props[s];return["key","head-key"].includes(s)?n:o===""?n+` ${s}`:n+` ${s}="${o}"`},"");return`<${e.type}${t}>`},renderTagChildren(e){return typeof e.children=="string"?e.children:e.children.reduce((t,n)=>t+this.renderTag(n),"")},isFunctionNode(e){return typeof e.type=="function"},isComponentNode(e){return typeof e.type=="object"},isCommentNode(e){return/(comment|cmt)/i.test(e.type.toString())},isFragmentNode(e){return/(fragment|fgt|symbol\(\))/i.test(e.type.toString())},isTextNode(e){return/(text|txt)/i.test(e.type.toString())},renderTag(e){if(this.isTextNode(e))return e.children;if(this.isFragmentNode(e))return"";if(this.isCommentNode(e))return"";let t=this.renderTagStart(e);return e.children&&(t+=this.renderTagChildren(e)),this.isUnaryTag(e)||(t+=`</${e.type}>`),t},addTitleElement(e){return this.title&&!e.find(t=>t.startsWith("<title"))&&e.push(`<title inertia>${this.title}</title>`),e},renderNodes(e){return this.addTitleElement(e.flatMap(t=>this.resolveNode(t)).map(t=>this.renderTag(t)).filter(t=>t))},resolveNode(e){return this.isFunctionNode(e)?this.resolveNode(e.type()):this.isComponentNode(e)?(console.warn("Using components in the <Head> component is not supported."),[]):this.isTextNode(e)&&e.children?e:this.isFragmentNode(e)&&e.children?e.children.flatMap(t=>this.resolveNode(t)):this.isCommentNode(e)?[]:e}},render(){this.provider.update(this.renderNodes(this.$slots.default?this.$slots.default():[]))}}),re=ye;var S=require("@inertiajs/core"),h=require("vue"),ve=(0,h.defineComponent)({name:"Link",props:{as:{type:String,default:"a"},data:{type:Object,default:()=>({})},href:{type:[String,Object],required:!0},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:()=>[]},except:{type:Array,default:()=>[]},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"},async:{type:Boolean,default:!1},prefetch:{type:[Boolean,String,Array],default:!1},cacheFor:{type:[Number,String,Array],default:0},onStart:{type:Function,default:e=>{}},onProgress:{type:Function,default:()=>{}},onFinish:{type:Function,default:()=>{}},onBefore:{type:Function,default:()=>{}},onCancel:{type:Function,default:()=>{}},onSuccess:{type:Function,default:()=>{}},onError:{type:Function,default:()=>{}},onCancelToken:{type:Function,default:()=>{}}},setup(e,{slots:t,attrs:n}){let s=(0,h.ref)(0),o=(0,h.ref)(null),a=e.prefetch===!0?["hover"]:e.prefetch===!1?[]:Array.isArray(e.prefetch)?e.prefetch:[e.prefetch],u=e.cacheFor!==0?e.cacheFor:a.length===1&&a[0]==="click"?0:3e4;(0,h.onMounted)(()=>{a.includes("mount")&&A()}),(0,h.onUnmounted)(()=>{clearTimeout(o.value)});let m=typeof e.href=="object"?e.href.method:e.method.toLowerCase(),d=m!=="get"?"button":e.as.toLowerCase(),F=(0,h.computed)(()=>(0,S.mergeDataIntoQueryString)(m,typeof e.href=="object"?e.href.url:e.href||"",e.data,e.queryStringArrayFormat)),r=(0,h.computed)(()=>F.value[0]),i=(0,h.computed)(()=>F.value[1]),g=(0,h.computed)(()=>({a:{href:r.value},button:{type:"button"}})),c={data:i.value,method:m,replace:e.replace,preserveScroll:e.preserveScroll,preserveState:e.preserveState??m!=="get",only:e.only,except:e.except,headers:e.headers,async:e.async},p={...c,onCancelToken:e.onCancelToken,onBefore:e.onBefore,onStart:v=>{s.value++,e.onStart(v)},onProgress:e.onProgress,onFinish:v=>{s.value--,e.onFinish(v)},onCancel:e.onCancel,onSuccess:e.onSuccess,onError:e.onError},A=()=>{S.router.prefetch(r.value,c,{cacheFor:u})},O={onClick:v=>{(0,S.shouldIntercept)(v)&&(v.preventDefault(),S.router.visit(r.value,p))}},f={onMouseenter:()=>{o.value=setTimeout(()=>{A()},75)},onMouseleave:()=>{clearTimeout(o.value)},onClick:O.onClick},N={onMousedown:v=>{(0,S.shouldIntercept)(v)&&(v.preventDefault(),A())},onMouseup:v=>{v.preventDefault(),S.router.visit(r.value,p)},onClick:v=>{(0,S.shouldIntercept)(v)&&v.preventDefault()}};return()=>(0,h.h)(d,{...n,...g.value[d]||{},"data-loading":s.value>0?"":void 0,...a.includes("hover")?f:a.includes("click")?N:O},t)}}),oe=ve;var ne=require("@inertiajs/core"),M=require("vue");function K(e,t={},n={keepAlive:!1,autoStart:!0}){let{stop:s,start:o}=ne.router.poll(e,t,{...n,autoStart:!1});return(0,M.onMounted)(()=>{(n.autoStart??!0)&&o()}),(0,M.onUnmounted)(()=>{s()}),{stop:s,start:o}}var $=require("@inertiajs/core"),C=require("vue");function U(e={}){let t=(0,C.ref)(!1),n=(0,C.ref)(null),s=(0,C.ref)(!1),o=typeof window>"u"?null:$.router.getCached(window.location.pathname,e),a=typeof window>"u"?null:$.router.getPrefetching(window.location.pathname,e);n.value=o?.staleTimestamp||null,t.value=a!==null,s.value=o!==null;let u,m;return(0,C.onMounted)(()=>{m=$.router.on("prefetching",d=>{d.detail.visit.url.pathname===window.location.pathname&&(t.value=!0)}),u=$.router.on("prefetched",d=>{d.detail.visit.url.pathname===window.location.pathname&&(t.value=!1,s.value=!0)})}),(0,C.onUnmounted)(()=>{u(),m()}),{lastUpdatedAt:n,isPrefetching:t,isPrefetched:s,flush:()=>$.router.flush(window.location.pathname,e)}}var W=require("@inertiajs/core"),se=require("es-toolkit"),D=require("vue");function J(e,t){if(typeof e=="object"&&e!==null&&e.__rememberable===!1)return e;let n=W.router.restore(t),s=(0,D.isReactive)(e)?D.reactive:D.ref,o=typeof e.__remember=="function"&&typeof e.__restore=="function",a=s(n===void 0?e:o?e.__restore(n):n);return(0,D.watch)(a,u=>{W.router.remember((0,se.cloneDeep)(o?e.__remember():u),t)},{immediate:!0,deep:!0}),a}var ie=require("@inertiajs/core"),R=require("vue"),ae=(0,R.defineComponent)({name:"WhenVisible",props:{data:{type:[String,Array]},params:{type:Object},buffer:{type:Number,default:0},as:{type:String,default:"div"},always:{type:Boolean,default:!1}},data(){return{loaded:!1,fetching:!1,observer:null}},unmounted(){this.observer?.disconnect()},mounted(){this.observer=new IntersectionObserver(e=>{if(!e[0].isIntersecting||(this.$props.always||this.observer.disconnect(),this.fetching))return;this.fetching=!0;let t=this.getReloadParams();ie.router.reload({...t,onStart:n=>{this.fetching=!0,t.onStart?.(n)},onFinish:n=>{this.loaded=!0,this.fetching=!1,t.onFinish?.(n)}})},{rootMargin:`${this.$props.buffer}px`}),this.observer.observe(this.$el.nextSibling)},methods:{getReloadParams(){if(this.$props.data)return{only:Array.isArray(this.$props.data)?this.$props.data:[this.$props.data]};if(!this.$props.params)throw new Error("You must provide either a `data` or `params` prop.");return this.$props.params}},render(){let e=[];return(this.$props.always||!this.loaded)&&e.push((0,R.h)(this.$props.as)),this.loaded?this.$slots.default&&e.push(this.$slots.default()):e.push(this.$slots.fallback?this.$slots.fallback():null),e}});
//# sourceMappingURL=index.js.map
